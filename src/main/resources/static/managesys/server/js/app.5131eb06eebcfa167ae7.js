webpackJsonp([6],{Bk4X:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},s,!1,function(e){n("Bk4X")},null,null).exports,a=n("/ocq"),u=n("kJdv"),i=n("zL8q"),l=(n("lmfZ"),[{path:u.a.routerBase+"/login",name:"login",component:function(){return new Promise(function(e){e()}).then(n.bind(null,"lmfZ"))}},{path:u.a.routerBase+"/layout",name:"layout",component:function(){return n.e(3).then(n.bind(null,"poSA"))},children:[{path:u.a.routerBase+"/layout/superadmin",name:"superadmin",component:function(){return n.e(0).then(n.bind(null,"+Q+t"))}},{path:u.a.routerBase+"/layout/planadmin",name:"planadmin",component:function(){return n.e(1).then(n.bind(null,"Zzki"))}},{path:u.a.routerBase+"/layout/processope",name:"processope",component:function(){return n.e(4).then(n.bind(null,"iKg3"))}},{path:u.a.routerBase+"/layout/examiner",name:"examiner",component:function(){return n.e(2).then(n.bind(null,"MsQy"))}}]},{path:"/",redirect:u.a.routerBase+"/login"}]),c=a.a.prototype.push;a.a.prototype.push=function(e){return c.call(this,e).catch(function(e){return e})},r.default.use(a.a);var d=new a.a({mode:"history",base:"/",routes:l});d.beforeEach(function(e,t,n){JSON.parse(sessionStorage.getItem("token"))||e.path===u.a.routerBase+"/login"?n():(i.Message.error("无访问权限，请先登录"),n({path:u.a.routerBase+"/login"}))});var p=d;n("tvR6");r.default.config.productionTip=!1,r.default.use(i.Button),r.default.use(i.Input),r.default.use(i.Table),r.default.use(i.TableColumn),r.default.use(i.Dialog),r.default.use(i.Select),r.default.use(i.Option),r.default.use(i.Container),r.default.use(i.Pagination),r.default.use(i.Dropdown),r.default.use(i.DropdownMenu),r.default.use(i.DropdownItem),r.default.use(i.Menu),r.default.use(i.Submenu),r.default.use(i.MenuItem),r.default.use(i.MenuItemGroup),r.default.use(i.Header),r.default.use(i.Aside),r.default.use(i.Main),r.default.use(i.Upload),r.default.use(i.Form),r.default.use(i.FormItem),r.default.component(i.MessageBox.name,i.MessageBox),r.default.prototype.$message=i.Message,r.default.prototype.$confirm=i.MessageBox.confirm,new r.default({el:"#app",router:p,components:{App:o},template:"<App/>"})},kJdv:function(e,t,n){"use strict";t.a={routerBase:"/managesys/web",prodServer:"/managesys/server",devServer:"/api/managesys/server",isProdEnv:"true"!==Object({NODE_ENV:"production"}).VUE_APP_PREVIEW}},"l/JR":function(e,t,n){"use strict";var r=n("//Fk"),s=n.n(r),o=n("mtWM"),a=(n("tvR6"),n("kJdv")),u=n("Zrlr"),i=n.n(u),l=n("wxAW"),c=n.n(l),d=n("5QVw"),p=n.n(d),f=n("zL8q"),m=p()("showMessage"),h=new(function(){function e(){i()(this,e)}return c()(e,[{key:"success",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this[m]("success",e,t)}},{key:"warning",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this[m]("warning",e,t)}},{key:"info",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this[m]("info",e,t)}},{key:"error",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this[m]("error",e,t)}},{key:m,value:function(e,t,n){n?0===document.getElementsByClassName("el-message").length&&f.Message[e](t):f.Message[e](t)}}]),e}()),v=o.a.create({timeout:1e4});console.log("是否是生产环境",a.a.isProdEnv),v.interceptors.request.use(function(e){if(e.url&&(a.a.isProdEnv?e.url=a.a.prodServer+e.url:e.url=a.a.devServer+e.url),e.url&&(console.log("config.url",e.url),sessionStorage.getItem("token"))){var t=JSON.parse(sessionStorage.getItem("token"));e.headers.Authorization=t}return e}),v.interceptors.response.use(function(e){var t=e.data.result;if(-1004!=t)return 1==t?e:s.a.resolve(e);Message.error("登录过期，请重新登录"),window.location="/"},function(e){if(console.log("err",e),e.response)switch(e.response.status){case 401:h.error({message:"登录过期，请重新登陆",type:"warning"}),window.location="/";break;case 500:h.error({message:"服务器内部错误",type:"error"});break;case 400:h.error({message:"请求参数错误",type:"error"});break;case 502:h.error({message:"服务器连接失败",type:"error"});break;case 504:h.error({message:"服务器连接超时",type:"error"});break;default:h.error({message:"其他错误",type:"error"})}return s.a.reject(e)});var g=v;function w(e){return g.post("/user/cuser_login",e)}function b(e){return g.post("/user/user_change_pw",e)}function k(e){return g.post("/user/show_users",e)}function _(e){return g.post("/user/change_user",e)}function y(e){return g.post("/user/remove_user",e)}function P(e){return g.post("/user/new_user",e)}function W(){return g.post("/user/show_auth")}function x(e){return g.post("/operator/sub_task",e)}function M(e){return g.post("/examiner/pass_status",e)}function N(e){return g.post("/examiner/check_card",e)}function B(e){return g.post("/operator/show_all_task",e)}function D(e){return g.post("/oleader/send_task",e)}function S(e){return g.post("/oleader/show_oprlists",e)}function I(e){return g.post("/examiner/show_exa_task",e)}function E(e){return g.post("/examiner/stop_task",e)}function C(e){return g.post("/plan/prod/prod_task_lists",e)}function J(e){return g.post("/plan/prod/remove_prod",e)}function V(e){return g.post("/plan/prod/send_prod",e)}function O(e){return g.post("/plan/stack/check_card",e)}function R(e){return g.post("/plan/prod/new_prod",e)}n.d(t,"t",function(){return w}),n.d(t,"c",function(){return b}),n.d(t,"q",function(){return k}),n.d(t,"d",function(){return _}),n.d(t,"f",function(){return y}),n.d(t,"a",function(){return P}),n.d(t,"e",function(){return J}),n.d(t,"j",function(){return D}),n.d(t,"k",function(){return S}),n.d(t,"p",function(){return V}),n.d(t,"b",function(){return W}),n.d(t,"r",function(){return x}),n.d(t,"i",function(){return M}),n.d(t,"o",function(){return N}),n.d(t,"m",function(){return O}),n.d(t,"l",function(){return B}),n.d(t,"g",function(){return I}),n.d(t,"h",function(){return E}),n.d(t,"s",function(){return R}),n.d(t,"n",function(){return C})},lmfZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mvHQ"),s=n.n(r),o=n("zL8q"),a=n("l/JR"),u=(n("kJdv"),{data:function(){return{userN:"",passW:"",oldPW:"",newPW:"",dialogVisible:!1}},mounted:function(){window.addEventListener("keydown",this.keyDown)},methods:{loginBtn:function(){var e=this;if(""!=this.userN)if(""!=this.passW){var t={userName:this.userN,passWord:this.passW};Object(a.t)(t).then(function(t){console.log("loginRes",t),1==t.data.result?(sessionStorage.setItem("token",s()(t.data.respData.token)),sessionStorage.setItem("userID",s()(t.data.respData.userID)),sessionStorage.setItem("UN",s()(t.data.respData.un)),sessionStorage.setItem("auth",s()(t.data.respData.auth)),1==t.data.respData.auth?e.$router.push({name:"superadmin"}):2==t.data.respData.auth?e.$router.push({name:"planadmin"}):3==t.data.respData.auth||5==t.data.respData.auth?e.$router.push({name:"processope"}):4==t.data.respData.auth&&e.$router.push({name:"examiner"})):o.Message.error(""+t.data.msg)})}else o.Message.error("密码不能为空");else o.Message.error("用户名不能为空")},saveNewPW:function(){var e=this,t={userName:this.userN,oldPW:this.oldPW,newPW:this.newPW};Object(a.c)(t).then(function(t){console.log("修改密码res",t),1==t.data.result?(o.Message.success(t.data.msg),setTimeout(function(){e.dialogVisible=!1},1500)):o.Message.error(t.data.msg)})},handleClose:function(e){e()},keyDown:function(e){13===e.keyCode&&this.loginBtn()}},destroyed:function(){window.removeEventListener("keydown",this.keyDown,!1)}}),i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("div",{staticClass:"loginBox"},[n("h2",[e._v("欢迎登录")]),e._v(" "),n("div",{staticClass:"inputUsername"},[n("el-input",{staticStyle:{margin:".8rem 0",border:"1px solid dodgerblue"},attrs:{placeholder:"请输入账号"},model:{value:e.userN,callback:function(t){e.userN=t},expression:"userN"}})],1),e._v(" "),n("div",{staticClass:"inputPassword"},[n("el-input",{staticStyle:{border:"1px solid dodgerblue"},attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.passW,callback:function(t){e.passW=t},expression:"passW"}})],1),e._v(" "),n("div",{staticClass:"changePw"},[n("el-button",{attrs:{type:"text"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("修改密码")]),e._v(" "),n("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.userN,callback:function(t){e.userN=t},expression:"userN"}}),e._v(" "),n("el-input",{attrs:{placeholder:"请输入旧密码","show-password":""},model:{value:e.oldPW,callback:function(t){e.oldPW=t},expression:"oldPW"}}),e._v(" "),n("el-input",{attrs:{placeholder:"请输入新密码","show-password":""},model:{value:e.newPW,callback:function(t){e.newPW=t},expression:"newPW"}}),e._v(" "),n("el-button",{attrs:{type:"warning",align:"center"},on:{click:e.saveNewPW}},[e._v("保存")])],1)],1),e._v(" "),n("div",{staticClass:"submit"},[n("el-button",{attrs:{type:"primary"},on:{click:e.loginBtn}},[e._v("登录")])],1)])])},staticRenderFns:[]};var l=n("VU/8")(u,i,!1,function(e){n("rJgv")},"data-v-3dabb136",null);t.default=l.exports},rJgv:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.5131eb06eebcfa167ae7.js.map