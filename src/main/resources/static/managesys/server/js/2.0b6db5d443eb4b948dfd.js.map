{"version":3,"sources":["webpack:///src/views/Examiner.vue","webpack:///./src/views/Examiner.vue?8bd1","webpack:///./src/views/Examiner.vue"],"names":["Examiner","data","keywords","currentPage","pageSize","checkSheetList","taskPassDialogVisible","taskUnpassDialogVisible","stopTaskDialogVisible","totalDataNum","IsTaskPassPara","operatorID","examinerID","prodModel","taskName","select_list","stopTaskName","stopProdModel","timer","mounted","_this","this","setInterval","sheetsListShow","methods","stopTaskBtn","row","console","log","stopTaskSure","_this2","param","Object","request","then","res","result","element_ui_common","success","error","msg","selectionChange","val","getRowKeys","id","_this3","JSON","parse","sessionStorage","getItem","respData","dataDetail","i","length","examinStatus","search","clearInput","BornCheckSheet","ptos","operatorIds","taskPassBtn","taskPassSure","_this4","taskUnpassBtn","taskUnPassSure","_this5","handleClose","done","handleSizeChange","SizeChange","handleCurrentChange","CurrentPage","countPageIndex","index","handleSelectionChange","multipleSelection","beforeDestroy","clearInterval","views_Examiner","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","staticStyle","width","attrs","height","border","stripe","highlight-current-row","row-key","on","selection-change","type","label","align","prop","scopedSlots","_u","key","fn","scope","size","disabled","click","$event","title","visible","before-close","update:visible","slot","background","current-page","page-size","total","layout","size-change","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"sJAyHAA,GACAC,KADA,WAEA,OACAC,SAAA,GACAC,YAAA,EACAC,SAAA,EACAC,kBACAC,uBAAA,EACAC,yBAAA,EACAC,uBAAA,EACAC,aAAA,EACAC,gBACAC,WAAA,GACAC,WAAA,GACAC,UAAA,GACAC,SAAA,IACAC,eACAC,aAAA,GACAC,cAAA,GACAC,MAAA,OAGAC,QAtBA,WAsBA,IAAAC,EAAAC,KACAA,KAAAH,MAAAI,YAAA,WACAF,EAAAG,kBACA,MAIAC,SACAC,YADA,SACAC,GACAC,QAAAC,IAAA,UAAAF,GACAL,KAAAb,uBAAA,EACAa,KAAAJ,cAAAS,EAAAb,UACAQ,KAAAL,aAAAU,EAAAZ,UAEAe,aAPA,WAOA,IAAAC,EAAAT,KACAU,GACAlB,UAAAQ,KAAAJ,cACAH,SAAAO,KAAAL,cAGAgB,OAAAC,EAAA,EAAAD,CAAAD,GAAAG,KAAA,SAAAC,GACAR,QAAAC,IAAA,UAAAO,GACA,GAAAA,EAAAlC,KAAAmC,QACUC,EAAA,QAAVC,QAAA,SAEAR,EAAAP,iBACAO,EAAAtB,uBAAA,GAEU6B,EAAA,QAAVE,MAAAJ,EAAAlC,KAAAuC,QAIAC,gBAzBA,SAyBAC,GACArB,KAAAN,YAAA2B,GAEAC,WA5BA,SA4BAjB,GACA,OAAAA,EAAAkB,IAEArB,eA/BA,WA+BA,IAAAsB,EAAAxB,KACAU,GACA7B,SAAAmB,KAAAnB,SACAC,YAAAkB,KAAAlB,YACAC,SAAAiB,KAAAjB,SACAQ,WAAAkC,KAAAC,MAAAC,eAAAC,QAAA,YAEMjB,OAAAC,EAAA,EAAAD,CAAND,GAAAG,KAAA,SAAAC,GAEA,GADAR,QAAAC,IAAA,WAAAO,GACA,GAAAA,EAAAlC,KAAAmC,OAAA,CACAS,EAAAxC,eAAA8B,EAAAlC,KAAAiD,SAAAC,WACAN,EAAApC,aAAA0B,EAAAlC,KAAAiD,SAAAzC,aACA,QAAA2C,EAAA,EAAAA,EAAAP,EAAAxC,eAAAgD,OAAAD,IACAP,EAAAxC,eAAA+C,GAAAR,GAAAQ,EACA,GAAAP,EAAAxC,eAAA+C,GAAAE,aACAT,EAAAxC,eAAA+C,GAAAE,aAAA,MACA,GAAAT,EAAAxC,eAAA+C,GAAAE,aACAT,EAAAxC,eAAA+C,GAAAE,aAAA,KACA,GAAAT,EAAAxC,eAAA+C,GAAAE,aACAT,EAAAxC,eAAA+C,GAAAE,aAAA,MACA,GAAAT,EAAAxC,eAAA+C,GAAAE,eACAT,EAAAxC,eAAA+C,GAAAE,aAAA,YAKAT,EAAAxC,kBACUgC,EAAA,QAAVE,MAAAJ,EAAAlC,KAAAuC,QAIAe,OA9DA,WA+DAlC,KAAAlB,YAAA,EACAkB,KAAAE,kBAEAiC,WAlEA,WAmEAnC,KAAAnB,SAAA,GACAmB,KAAAlB,YAAA,EACAkB,KAAAE,kBAEAkC,eAvEA,SAuEA/B,GACAC,QAAAC,IAAA,SAAAF,GAaA,IAAAK,GACAnB,WAAAkC,KAAAC,MAAAC,eAAAC,QAAA,WACAS,OAAA7C,UAAAa,EAAAb,UAAAC,SAAAY,EAAAZ,SAAA6C,YAAAjC,EAAAiC,eAEM3B,OAAAC,EAAA,EAAAD,CAAND,GAAAG,KAAA,SAAAC,GACAR,QAAAC,IAAA,WAAAO,GACA,GAAAA,EAAAlC,KAAAmC,OACUC,EAAA,QAAVC,QAAAH,EAAAlC,KAAAuC,KAEUH,EAAA,QAAVE,MAAAJ,EAAAlC,KAAAuC,QAKAoB,YAnGA,SAmGAlC,GACAC,QAAAC,IAAA,QAAAF,GACAL,KAAAf,uBAAA,EACAe,KAAAX,eAAAC,WAAAe,EAAAf,WACAU,KAAAX,eAAAG,UAAAa,EAAAb,UACAQ,KAAAX,eAAAI,SAAAY,EAAAZ,UAEA+C,aA1GA,WA0GA,IAAAC,EAAAzC,KACAU,GACApB,WAAAU,KAAAX,eAAAC,WACAC,WAAAkC,KAAAC,MAAAC,eAAAC,QAAA,WACApC,UAAAQ,KAAAX,eAAAG,UACAC,SAAAO,KAAAX,eAAAI,SACAwC,aAAA,GAEMtB,OAAAC,EAAA,EAAAD,CAAND,GAAAG,KAAA,SAAAC,GACAR,QAAAC,IAAA,QAAAO,GACA,GAAAA,EAAAlC,KAAAmC,QACUC,EAAA,QAAVC,QAAA,WACAwB,EAAAvC,iBACAuC,EAAAxD,uBAAA,GAEU+B,EAAA,QAAVE,MAAAJ,EAAAlC,KAAAuC,QAKAuB,cA9HA,SA8HArC,GACAC,QAAAC,IAAA,SAAAF,GACAL,KAAAd,yBAAA,EACAc,KAAAX,eAAAC,WAAAe,EAAAf,WACAU,KAAAX,eAAAG,UAAAa,EAAAb,UACAQ,KAAAX,eAAAI,SAAAY,EAAAZ,UAEAkD,eArIA,WAqIA,IAAAC,EAAA5C,KACAU,GACApB,WAAAU,KAAAX,eAAAC,WACAC,WAAAkC,KAAAC,MAAAC,eAAAC,QAAA,WACApC,UAAAQ,KAAAX,eAAAG,UACAC,SAAAO,KAAAX,eAAAI,SACAwC,aAAA,GAEMtB,OAAAC,EAAA,EAAAD,CAAND,GAAAG,KAAA,SAAAC,GACAR,QAAAC,IAAA,SAAAO,GACA,GAAAA,EAAAlC,KAAAmC,QACUC,EAAA,QAAVC,QAAA,YACA2B,EAAA1C,iBACA0C,EAAA1D,yBAAA,GAEU8B,EAAA,QAAVE,MAAAJ,EAAAlC,KAAAuC,QAIA0B,YAxJA,SAwJAC,GACAA,KAEAC,iBA3JA,SA2JAC,GACA1C,QAAAC,IAAA,aAAAyC,GACAhD,KAAAjB,SAAAiE,EACAhD,KAAAE,kBAEA+C,oBAhKA,SAgKAC,GACA5C,QAAAC,IAAA,cAAA2C,GACAlD,KAAAlB,YAAAoE,EACAlD,KAAAE,kBAEAiD,eArKA,SAqKAC,GACA,OAAApD,KAAAlB,YAAA,GAAAkB,KAAAjB,SAAAqE,EAAA,GAEAC,sBAxKA,SAwKAhC,GACArB,KAAAsD,kBAAAjC,EACAf,QAAAC,IAAA,YAAAP,KAAAsD,qBAGAC,cA1MA,WA2MAC,cAAAxD,KAAAH,OACAG,KAAAH,MAAA,OClUe4D,GADEC,OAFjB,WAA0B,IAAAC,EAAA3D,KAAa4D,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,eAAyBL,EAAAM,GAAA,GAAAN,EAAAO,GAAA,KAAAJ,EAAA,YAAuCK,aAAaC,MAAA,QAAeC,OAAQzF,KAAA+E,EAAA3E,eAAAsF,OAAA,OAAAC,OAAA,GAAAC,OAAA,GAAAC,wBAAA,GAAAC,UAAAf,EAAArC,YAAsHqD,IAAKC,mBAAAjB,EAAAN,yBAA8CS,EAAA,mBAAwBO,OAAOQ,KAAA,QAAAC,MAAA,KAAA1B,MAAAO,EAAAR,eAAA4B,MAAA,SAAAX,MAAA,SAAuFT,EAAAO,GAAA,KAAAJ,EAAA,mBAAoCO,OAAOW,KAAA,YAAAF,MAAA,OAAAC,MAAA,SAAAX,MAAA,SAAkET,EAAAO,GAAA,KAAAJ,EAAA,mBAAoCO,OAAOW,KAAA,WAAAD,MAAA,SAAAD,MAAA,UAAmDnB,EAAAO,GAAA,KAAAJ,EAAA,mBAAoCO,OAAOW,KAAA,WAAAD,MAAA,SAAAD,MAAA,SAAkDnB,EAAAO,GAAA,KAAAJ,EAAA,mBAAoCO,OAAOW,KAAA,eAAAD,MAAA,SAAAD,MAAA,UAAuDnB,EAAAO,GAAA,KAAAJ,EAAA,mBAAoCO,OAAOS,MAAA,KAAAC,MAAA,UAA8BE,YAAAtB,EAAAuB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAvB,EAAA,aAAwBO,OAAOQ,KAAA,UAAAS,KAAA,OAAAC,SAAA,MAAAF,EAAAhF,IAAA4B,cAAA,OAAAoD,EAAAhF,IAAA4B,cAAqH0C,IAAKa,MAAA,SAAAC,GAAyB,OAAA9B,EAAApB,YAAA8C,EAAAhF,SAAoCsD,EAAAO,GAAA,QAAAP,EAAAO,GAAA,KAAAJ,EAAA,aAA6CO,OAAOqB,MAAA,KAAAC,QAAAhC,EAAA1E,sBAAAmF,MAAA,MAAAwB,eAAAjC,EAAAd,aAA8F8B,IAAKkB,iBAAA,SAAAJ,GAAkC9B,EAAA1E,sBAAAwG,MAAmC3B,EAAA,QAAAH,EAAAO,GAAA,WAAAP,EAAAO,GAAA,KAAAJ,EAAA,QAAsDE,YAAA,gBAAAK,OAAmCyB,KAAA,UAAgBA,KAAA,WAAehC,EAAA,aAAkBa,IAAIa,MAAA,SAAAC,GAAyB9B,EAAA1E,uBAAA,MAAoC0E,EAAAO,GAAA,SAAAP,EAAAO,GAAA,KAAAJ,EAAA,aAA8CO,OAAOQ,KAAA,WAAiBF,IAAKa,MAAA7B,EAAAnB,gBAA0BmB,EAAAO,GAAA,eAAAP,EAAAO,GAAA,KAAAJ,EAAA,aAAoDO,OAAOQ,KAAA,SAAAS,KAAA,OAAAC,SAAA,MAAAF,EAAAhF,IAAA4B,cAAA,OAAAoD,EAAAhF,IAAA4B,cAAkH0C,IAAKa,MAAA,SAAAC,GAAyB,OAAA9B,EAAAjB,cAAA2C,EAAAhF,SAAsCsD,EAAAO,GAAA,SAAAP,EAAAO,GAAA,KAAAJ,EAAA,aAA8CO,OAAOqB,MAAA,KAAAC,QAAAhC,EAAAzE,wBAAAkF,MAAA,MAAAwB,eAAAjC,EAAAd,aAAgG8B,IAAKkB,iBAAA,SAAAJ,GAAkC9B,EAAAzE,wBAAAuG,MAAqC3B,EAAA,QAAAH,EAAAO,GAAA,YAAAP,EAAAO,GAAA,KAAAJ,EAAA,QAAuDE,YAAA,gBAAAK,OAAmCyB,KAAA,UAAgBA,KAAA,WAAehC,EAAA,aAAkBa,IAAIa,MAAA,SAAAC,GAAyB9B,EAAAzE,yBAAA,MAAsCyE,EAAAO,GAAA,SAAAP,EAAAO,GAAA,KAAAJ,EAAA,aAA8CO,OAAOQ,KAAA,WAAiBF,IAAKa,MAAA7B,EAAAhB,kBAA4BgB,EAAAO,GAAA,eAAAP,EAAAO,GAAA,KAAAJ,EAAA,aAAoDO,OAAOQ,KAAA,UAAAS,KAAA,QAA+BX,IAAKa,MAAA,SAAAC,GAAyB,OAAA9B,EAAAvD,YAAAiF,EAAAhF,SAAoCsD,EAAAO,GAAA,UAAAP,EAAAO,GAAA,KAAAJ,EAAA,aAA+CO,OAAOqB,MAAA,KAAAC,QAAAhC,EAAAxE,sBAAAiF,MAAA,MAAAwB,eAAAjC,EAAAd,aAA8F8B,IAAKkB,iBAAA,SAAAJ,GAAkC9B,EAAAxE,sBAAAsG,MAAmC3B,EAAA,QAAAH,EAAAO,GAAA,eAAAP,EAAAO,GAAA,KAAAJ,EAAA,QAA0DE,YAAA,gBAAAK,OAAmCyB,KAAA,UAAgBA,KAAA,WAAehC,EAAA,aAAkBa,IAAIa,MAAA,SAAAC,GAAyB9B,EAAAxE,uBAAA,MAAoCwE,EAAAO,GAAA,SAAAP,EAAAO,GAAA,KAAAJ,EAAA,aAA8CO,OAAOQ,KAAA,WAAiBF,IAAKa,MAAA7B,EAAAnD,gBAA0BmD,EAAAO,GAAA,eAAAP,EAAAO,GAAA,KAAAJ,EAAA,aAAoDO,OAAOQ,KAAA,UAAAS,KAAA,OAAAC,SAAA,OAAAF,EAAAhF,IAAA4B,cAAA,OAAAoD,EAAAhF,IAAA4B,cAAqH0C,IAAKa,MAAA,SAAAC,GAAyB,OAAA9B,EAAAvB,eAAAiD,EAAAhF,SAAuCsD,EAAAO,GAAA,mBAAyB,GAAAP,EAAAO,GAAA,KAAAJ,EAAA,iBAAsCO,OAAO0B,WAAA,GAAAC,eAAArC,EAAA7E,YAAAmH,YAAAtC,EAAA5E,SAAAmH,MAAAvC,EAAAvE,aAAA+G,OAAA,2BAAoIxB,IAAKyB,cAAAzC,EAAAZ,iBAAAsD,iBAAA1C,EAAAV,wBAA6E,IAE9oHqD,iBADjB,WAAoC,IAAa1C,EAAb5D,KAAa6D,eAA0BC,EAAvC9D,KAAuC+D,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,QAAkBF,EAAA,OAAYE,YAAA,WAA9GhE,KAAmIkE,GAAA,KAAAJ,EAAA,OAAwBE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,mBCElO,IAcAuC,EAdyBC,EAAQ,OAcjCC,CACE9H,EACA8E,GATF,EAVA,SAAAiD,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/2.0b6db5d443eb4b948dfd.js","sourcesContent":["<template>\r\n  <div class=\"processope\">\r\n    <div class=\"top\">\r\n      <div class=\"search\">\r\n        <!-- <el-input v-model=\"keywords\" @input=\"search\" placeholder=\"请输入搜索内容\">\r\n          <i\r\n             v-show=\"keywords\"\r\n             class=\"el-icon-close\"\r\n             style=\"margin-top:12px\"\r\n             slot=\"suffix\"\r\n             @click=\"clearInput\">\r\n          </i>\r\n        </el-input> -->\r\n      </div>\r\n      <div class=\"topRight\">\r\n        <div class=\"addUser\">\r\n          <!-- <el-button type=\"primary\" @click=\"BornCheckSheet\">出具检验单</el-button> -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <el-table\r\n        :data=\"checkSheetList\"\r\n        height=\"100%\"\r\n        border\r\n        stripe\r\n        highlight-current-row\r\n        @selection-change=\"handleSelectionChange\"\r\n        :row-key=\"getRowKeys\"\r\n        style=\"width: 100%\">\r\n        <!-- <el-table-column\r\n        type=\"selection\"\r\n        width=\"55\"\r\n        :reserve-selection = \"true\"\r\n        @selection-change='selectionChange'\r\n        >\r\n        </el-table-column> -->\r\n        <el-table-column\r\n         type=\"index\"\r\n         label=\"序号\"\r\n         :index=\"countPageIndex\"\r\n         align=\"center\"\r\n         width=\"100\">\r\n        </el-table-column>\r\n        <el-table-column\r\n        prop=\"prodModel\"\r\n        label=\"产品型号\"\r\n        align=\"center\"\r\n        width=\"150\">\r\n        </el-table-column>\r\n        <el-table-column\r\n        prop=\"taskName\"\r\n        align=\"center\"\r\n        label=\"任务名称\">\r\n        </el-table-column>\r\n        <el-table-column\r\n        prop=\"operator\"\r\n        align=\"center\"\r\n        label=\"操作员\">\r\n        </el-table-column>\r\n        <el-table-column\r\n        prop=\"examinStatus\"\r\n        align=\"center\"\r\n        label=\"检验状态\">\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" align=\"center\">\r\n          <template slot-scope=\"scope\" >\r\n            <el-button  type=\"primary\" size=\"mini\" @click=\"taskPassBtn(scope.row)\" :disabled=\"scope.row.examinStatus=='合格' || scope.row.examinStatus=='不合格'  ?true:false\">合格</el-button>\r\n            <el-dialog\r\n              title=\"提示\"\r\n              :visible.sync=\"taskPassDialogVisible\"\r\n              width=\"30%\"\r\n              :before-close=\"handleClose\">\r\n              <span>确定合格？</span>\r\n              <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"taskPassDialogVisible = false\">取 消</el-button>\r\n                <el-button @click=\"taskPassSure\" type=\"primary\">确 定</el-button>\r\n              </span>\r\n            </el-dialog>\r\n            <el-button  type=\"danger\" size=\"mini\" @click=\"taskUnpassBtn(scope.row)\" :disabled=\"scope.row.examinStatus=='合格' ||scope.row.examinStatus=='不合格' ?true:false\">不合格</el-button>\r\n            <el-dialog\r\n             title=\"提示\"\r\n             :visible.sync=\"taskUnpassDialogVisible\"\r\n             width=\"30%\"\r\n             :before-close=\"handleClose\">\r\n             <span>确定不合格？</span>\r\n             <span slot=\"footer\" class=\"dialog-footer\">\r\n               <el-button @click=\"taskUnpassDialogVisible = false\">取 消</el-button>\r\n               <el-button @click=\"taskUnPassSure\" type=\"primary\">确 定</el-button>\r\n             </span>\r\n            </el-dialog>\r\n            <el-button  type=\"warning\" size=\"mini\" @click=\"stopTaskBtn(scope.row)\">终止任务</el-button>\r\n            <el-dialog\r\n             title=\"提示\"\r\n             :visible.sync=\"stopTaskDialogVisible\"\r\n             width=\"30%\"\r\n             :before-close=\"handleClose\">\r\n             <span>确定终止该任务吗？</span>\r\n             <span slot=\"footer\" class=\"dialog-footer\">\r\n               <el-button @click=\"stopTaskDialogVisible = false\">取 消</el-button>\r\n               <el-button @click=\"stopTaskSure\" type=\"primary\">确 定</el-button>\r\n             </span>\r\n            </el-dialog>\r\n            <el-button  type=\"success\" size=\"mini\" @click=\"BornCheckSheet(scope.row)\" :disabled=\"scope.row.examinStatus=='未检验' || scope.row.examinStatus=='检验中' ?true:false\">出具检验单</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        background\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"currentPage\"\r\n        :page-size=\"pageSize\"\r\n        :total=\"totalDataNum\"\r\n        layout=\"total,prev, pager, next\">\r\n      </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {IsTaskPass,ProvideCheckSheet,ExaminerSheetList,ExaminerStopTask} from '@/api/request'\r\n  import { Message } from 'element-ui'\r\n  export default {\r\n  data(){\r\n    return{\r\n      keywords:'',\r\n      currentPage:1,\r\n      pageSize:5,\r\n      checkSheetList:[],\r\n      taskPassDialogVisible:false,\r\n      taskUnpassDialogVisible:false,\r\n      stopTaskDialogVisible:false,\r\n      totalDataNum:0,\r\n      IsTaskPassPara:{\r\n                'operatorID':'',\r\n                'examinerID':'',\r\n                'prodModel':'',\r\n                'taskName':'',},\r\n      select_list:[],\r\n      stopTaskName:'',\r\n      stopProdModel:'',\r\n      timer:null\r\n       }\r\n  },\r\n  mounted(){\r\n    this.timer = setInterval(() => {\r\n      this.sheetsListShow()\r\n    }, 1000);\r\n    // this.sheetsListShow()\r\n  },\r\n \r\n  methods:{\r\n    stopTaskBtn(row){\r\n      console.log('终止任务row',row);\r\n      this.stopTaskDialogVisible = true\r\n      this.stopProdModel = row.prodModel\r\n      this.stopTaskName = row.taskName\r\n    },\r\n    stopTaskSure(){\r\n      let param = {\r\n        'prodModel':this.stopProdModel,\r\n        'taskName':this.stopTaskName\r\n      }\r\n      // 终止任务接口\r\n      ExaminerStopTask(param).then((res) =>{\r\n        console.log('终止任务res',res);\r\n        if(res.data.result == 1){\r\n          Message.success(`任务已终止`)\r\n          \r\n          this.sheetsListShow()\r\n          this.stopTaskDialogVisible = false\r\n        }else{\r\n          Message.error(res.data.msg)\r\n        }\r\n      })\r\n    },\r\n    selectionChange(val){\r\n      this.select_list = val;\r\n    },\r\n    getRowKeys(row){\r\n      return row.id\r\n    },\r\n    sheetsListShow(){\r\n      let param = {\r\n        'keywords':this.keywords,\r\n        'currentPage':this.currentPage,\r\n        'pageSize':this.pageSize,\r\n        'examinerID':JSON.parse(sessionStorage.getItem('userID'))\r\n      }\r\n      ExaminerSheetList(param).then((res) =>{\r\n        console.log('检验员任务单列表',res);\r\n        if(res.data.result == 1){\r\n          this.checkSheetList = res.data.respData.dataDetail\r\n          this.totalDataNum = res.data.respData.totalDataNum\r\n          for(let i = 0;i < this.checkSheetList.length;i++){\r\n            this.checkSheetList[i].id = i\r\n            if(this.checkSheetList[i].examinStatus == 1){\r\n              this.checkSheetList[i].examinStatus = '未检验'\r\n            }else if(this.checkSheetList[i].examinStatus == 2){\r\n              this.checkSheetList[i].examinStatus = '合格'\r\n            }else if(this.checkSheetList[i].examinStatus == 3){\r\n              this.checkSheetList[i].examinStatus = '不合格'\r\n            }else if(this.checkSheetList[i].examinStatus == 4){\r\n              this.checkSheetList[i].examinStatus = '检验中'\r\n            }\r\n            \r\n          }\r\n        }else{\r\n          this.checkSheetList = []\r\n          Message.error(res.data.msg)\r\n        }\r\n      })\r\n    },\r\n    search(){\r\n        this.currentPage = 1\r\n        this.sheetsListShow()\r\n    },\r\n    clearInput(){\r\n      this.keywords = ''\r\n      this.currentPage = 1\r\n      this.sheetsListShow()\r\n    },\r\n    BornCheckSheet(row){\r\n      console.log('检验单row',row);\r\n      // let param = {\r\n      //   'examinerID':JSON.parse(sessionStorage.getItem('userID')),\r\n      //   'ptos':this.multipleSelection\r\n      // }\r\n      // ProvideCheckSheet(param).then((res) => {\r\n      //   console.log('出具检验单res',res)\r\n      //   if(res.data.result == 1){\r\n      //     Message.success(res.data.msg)\r\n      //   }else{\r\n      //     Message.error(res.data.msg)\r\n      //   }\r\n      // })\r\n      let param = {\r\n        'examinerID':JSON.parse(sessionStorage.getItem('userID')),\r\n        'ptos':[{'prodModel':row.prodModel,'taskName':row.taskName,'operatorIds':row.operatorIds}]\r\n      }\r\n      ProvideCheckSheet(param).then((res) => {\r\n        console.log('出具检验单res',res)\r\n        if(res.data.result == 1){\r\n          Message.success(res.data.msg)\r\n        }else{\r\n          Message.error(res.data.msg)\r\n        }\r\n      })\r\n    }, \r\n    //任务合格\r\n    taskPassBtn(row){\r\n      console.log('合格row',row)\r\n      this.taskPassDialogVisible = true\r\n      this.IsTaskPassPara.operatorID = row.operatorID\r\n      this.IsTaskPassPara.prodModel = row.prodModel\r\n      this.IsTaskPassPara.taskName = row.taskName\r\n    },\r\n    taskPassSure(){\r\n      let param = {\r\n        'operatorID':this.IsTaskPassPara.operatorID,\r\n        'examinerID':JSON.parse(sessionStorage.getItem('userID')),\r\n        'prodModel':this.IsTaskPassPara.prodModel,\r\n        'taskName':this.IsTaskPassPara.taskName,\r\n        'examinStatus':2\r\n      }\r\n      IsTaskPass(param).then((res) =>{\r\n        console.log('合格res',res)\r\n        if(res.data.result == 1){\r\n          Message.success(`任务已确认合格`)\r\n          this.sheetsListShow()\r\n          this.taskPassDialogVisible = false\r\n        }else{\r\n          Message.error(res.data.msg)\r\n        }\r\n      })\r\n    },\r\n    //任务不合格\r\n    taskUnpassBtn(row){\r\n      console.log('不合格row',row)\r\n      this.taskUnpassDialogVisible = true\r\n      this.IsTaskPassPara.operatorID = row.operatorID\r\n      this.IsTaskPassPara.prodModel = row.prodModel\r\n      this.IsTaskPassPara.taskName = row.taskName\r\n    },\r\n    taskUnPassSure(){\r\n      let param = {\r\n        'operatorID':this.IsTaskPassPara.operatorID,\r\n        'examinerID':JSON.parse(sessionStorage.getItem('userID')),\r\n        'prodModel':this.IsTaskPassPara.prodModel,\r\n        'taskName':this.IsTaskPassPara.taskName,\r\n        'examinStatus':3\r\n      }\r\n      IsTaskPass(param).then((res) =>{\r\n        console.log('不合格res',res)\r\n        if(res.data.result == 1){\r\n          Message.success(`任务已确认不合格`)\r\n          this.sheetsListShow()\r\n          this.taskUnpassDialogVisible = false\r\n        }else{\r\n          Message.error(res.data.msg)\r\n        }\r\n      })\r\n    },\r\n    handleClose(done){\r\n      done()\r\n    },\r\n    handleSizeChange(SizeChange){ \r\n      console.log('SizeChange',SizeChange);\r\n      this.pageSize = SizeChange\r\n      this.sheetsListShow()\r\n    },\r\n    handleCurrentChange(CurrentPage){ \r\n      console.log('CurrentPage',CurrentPage);\r\n      this.currentPage = CurrentPage\r\n      this.sheetsListShow()\r\n    },\r\n    countPageIndex(index){\r\n      return (this.currentPage - 1) * this.pageSize + index + 1\r\n     },\r\n     handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n      console.log('勾选的这一行的数据',this.multipleSelection);\r\n    }\r\n  },\r\n  beforeDestroy(){\r\n    clearInterval(this.timer);\r\n    this.timer = null\r\n  },\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.processope{\r\n    width: 100%;\r\n    height: 85%;\r\n    .top{\r\n        display: flex;\r\n        justify-content: space-between;\r\n        .search{\r\n          width: 23%;\r\n          display: flex;\r\n        }\r\n        .topRight{\r\n          display: flex;\r\n        }\r\n      }\r\n        .addUser{\r\n            text-align: left;\r\n            margin-bottom: 1rem;\r\n            .addUserDialog{\r\n              width: 30% !important;\r\n            }\r\n        }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/Examiner.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"processope\"},[_vm._m(0),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.checkSheetList,\"height\":\"100%\",\"border\":\"\",\"stripe\":\"\",\"highlight-current-row\":\"\",\"row-key\":_vm.getRowKeys},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"index\":_vm.countPageIndex,\"align\":\"center\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"prodModel\",\"label\":\"产品型号\",\"align\":\"center\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"taskName\",\"align\":\"center\",\"label\":\"任务名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"operator\",\"align\":\"center\",\"label\":\"操作员\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"examinStatus\",\"align\":\"center\",\"label\":\"检验状态\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"disabled\":scope.row.examinStatus=='合格' || scope.row.examinStatus=='不合格'  ?true:false},on:{\"click\":function($event){return _vm.taskPassBtn(scope.row)}}},[_vm._v(\"合格\")]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.taskPassDialogVisible,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.taskPassDialogVisible=$event}}},[_c('span',[_vm._v(\"确定合格？\")]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.taskPassDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.taskPassSure}},[_vm._v(\"确 定\")])],1)]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\",\"disabled\":scope.row.examinStatus=='合格' ||scope.row.examinStatus=='不合格' ?true:false},on:{\"click\":function($event){return _vm.taskUnpassBtn(scope.row)}}},[_vm._v(\"不合格\")]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.taskUnpassDialogVisible,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.taskUnpassDialogVisible=$event}}},[_c('span',[_vm._v(\"确定不合格？\")]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.taskUnpassDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.taskUnPassSure}},[_vm._v(\"确 定\")])],1)]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.stopTaskBtn(scope.row)}}},[_vm._v(\"终止任务\")]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.stopTaskDialogVisible,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.stopTaskDialogVisible=$event}}},[_c('span',[_vm._v(\"确定终止该任务吗？\")]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.stopTaskDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.stopTaskSure}},[_vm._v(\"确 定\")])],1)]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\",\"disabled\":scope.row.examinStatus=='未检验' || scope.row.examinStatus=='检验中' ?true:false},on:{\"click\":function($event){return _vm.BornCheckSheet(scope.row)}}},[_vm._v(\"出具检验单\")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"total\":_vm.totalDataNum,\"layout\":\"total,prev, pager, next\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"search\"}),_vm._v(\" \"),_c('div',{staticClass:\"topRight\"},[_c('div',{staticClass:\"addUser\"})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b8603420\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Examiner.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b8603420\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Examiner.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Examiner.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Examiner.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b8603420\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Examiner.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b8603420\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Examiner.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}